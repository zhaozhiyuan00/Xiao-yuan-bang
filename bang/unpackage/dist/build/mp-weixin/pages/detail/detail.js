(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/detail/detail"],{"098c":function(t,e,s){"use strict";(function(t,s){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={data:function(){return{beforeHeaderzIndex:11,afterHeaderzIndex:10,beforeHeaderOpacity:1,afterHeaderOpacity:0,openid:"",imgList:[],info:{},swiperList:[],text:"聊一聊",currentSwiper:0,nownum:0,anchorlist:[],selectAnchor:0,serviceClass:"",specClass:"",shareClass:"",goodsData:{id:1,name:"找一个拿外卖的",price:"1227.00",number:1,service:[{name:"日结",description:"每天到付"},{name:"男性",description:"dd点点滴滴"},{name:"啊啊啊",description:"得到的"}],spec:"泰达学院一宿舍1601",time:"07:00--11:00"},selectSpec:null,isKeep:!1,descriptionStr:"圣诞到今年福建省男佛呢是离开你六十年历史的名称；马上到了分手两年是；都没法；是"}},computed:{currentnum:function(){return 0==this.swiperList.length?0:this.currentSwiper+1}},onLoad:function(e){this.showBack=!1;var s=this,i=JSON.parse(e.jsonStr);this.info=i,this.openid=i.openid,this.$store.state.openid==this.openid&&(this.text="删除");var n=i.img;n.forEach((function(t,e){var i={};i.id=e+1,i.img=t,s.swiperList=s.swiperList.concat(i)})),t.callFunction({name:"getcollect",data:{user:this.$store.state.openid,project:this.info},success:function(t){0!=t.result.data.length&&(s.isKeep=!s.isKeep)}})},onReady:function(){this.calcAnchor()},onPageScroll:function(t){this.selectAnchor=t.scrollTop>=this.anchorlist[2].top?2:t.scrollTop>=this.anchorlist[1].top?1:0;var e=375;t.scrollTop=t.scrollTop>e?375:t.scrollTop,this.afterHeaderOpacity=t.scrollTop*(1/e),this.beforeHeaderOpacity=1-this.afterHeaderOpacity,this.beforeHeaderzIndex=t.scrollTop>0?10:11,this.afterHeaderzIndex=t.scrollTop>0?11:10},mounted:function(){},methods:{swiperChange:function(t){this.currentSwiper=t.detail.current},toMsg:function(){s.navigateTo({url:"../msg/msg"})},toChat:function(){var e=this;if("聊一聊"==this.text){var i=JSON.stringify(this.info);s.navigateTo({url:"../testmessage/testmessage?Jsonstr="+i+"&type=my"})}else t.callFunction({name:"deleteemployer",data:{id:this.info._id},success:function(t){e.$refs.uToast1.show({title:"删除成功",type:"success",back:"true"})}})},share:function(){this.shareClass="show"},hideShare:function(){var t=this;this.shareClass="hide",setTimeout((function(){t.shareClass="none"}),150)},keep:function(){var e=this;this.$store.state.login?t.callFunction({name:"getcollect",data:{user:this.$store.state.openid,project:this.info},success:function(s){0==s.result.data.length&&t.callFunction({name:"collect",data:{project:e.info,user:e.$store.state.openid},success:function(t){e.isKeep=!e.isKeep}})}}):this.$refs.uToast.show({title:"请先登录",type:"error"})},joinCart:function(){if(null==this.selectSpec)return this.showSpec((function(){s.showToast({title:"已加入购物车"})}));s.showToast({title:"已加入购物车"})},buy:function(){var t=this;if(null==this.selectSpec)return this.showSpec((function(){t.toConfirmation()}));this.toConfirmation()},toConfirmation:function(){var t=[],e={id:this.goodsData.id,img:"../../static/img/goods/p1.jpg",name:this.goodsData.name,spec:"规格:"+this.goodsData.spec[this.selectSpec],price:this.goodsData.price,number:this.goodsData.number};t.push(e),s.setStorage({key:"buylist",data:t,success:function(){s.navigateTo({url:"../order/confirmation"})}})},setSelectSpec:function(t){this.selectSpec=t},sub:function(){this.goodsData.number<=1||this.goodsData.number--},add:function(){this.goodsData.number++},toAnchor:function(t){this.selectAnchor=t,s.pageScrollTo({scrollTop:this.anchorlist[t].top,duration:200})},calcAnchor:function(){var t=this;this.anchorlist=[{name:"主图",top:0},{name:"评价",top:0},{name:"详情",top:0}];var e=s.createSelectorQuery().select("#comments");e.boundingClientRect((function(e){var i=0,n=s.upx2px(100);t.anchorlist[1].top=e.top-n-i,t.anchorlist[2].top=e.bottom-n-i})).exec()},back:function(){s.navigateBack()},showService:function(){this.serviceClass="show"},hideService:function(){var t=this;this.serviceClass="hide",setTimeout((function(){t.serviceClass="none"}),200)},showSpec:function(t){this.specClass="show",this.specCallback=t},specCallback:function(){},hideSpec:function(){var t=this;this.specClass="hide",this.selectSpec&&this.specCallback&&this.specCallback(),this.specCallback=!1,setTimeout((function(){t.specClass="none"}),200)},discard:function(){}}};e.default=i}).call(this,s("a9ff")["default"],s("543d")["default"])},"12ad":function(t,e,s){"use strict";(function(t){s("a38e");i(s("66fd"));var e=i(s("a315"));function i(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,s("543d")["createPage"])},3824:function(t,e,s){},"7a99":function(t,e,s){"use strict";var i=s("3824"),n=s.n(i);n.a},a315:function(t,e,s){"use strict";s.r(e);var i=s("a87d"),n=s("bb14");for(var o in n)"default"!==o&&function(t){s.d(e,t,(function(){return n[t]}))}(o);s("7a99");var a,c=s("f0c5"),r=Object(c["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],a);e["default"]=r.exports},a87d:function(t,e,s){"use strict";s.d(e,"b",(function(){return n})),s.d(e,"c",(function(){return o})),s.d(e,"a",(function(){return i}));var i={uToast:function(){return s.e("node-modules/uview-ui/components/u-toast/u-toast").then(s.bind(null,"d080"))}},n=function(){var t=this,e=t.$createElement;t._self._c},o=[]},bb14:function(t,e,s){"use strict";s.r(e);var i=s("098c"),n=s.n(i);for(var o in i)"default"!==o&&function(t){s.d(e,t,(function(){return i[t]}))}(o);e["default"]=n.a}},[["12ad","common/runtime","common/vendor"]]]);